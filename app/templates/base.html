<!doctype html>
<html lang="nl">

<head>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/layout.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/hero.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/buttons.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/polls.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Vicaris Village Poll{% endblock %}</title>

  <!-- Google Fonts (Vicaris-look) -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Satisfy&display=swap"
    rel="stylesheet">

  <!-- Bootstrap (basis layout) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <!-- NAVBAR / HEADER -->
  <header class="vv-header d-flex justify-content-between align-items-center px-4 py-2">

    <!-- Logo links (klikbaar) -->
    <a href="{{ url_for('core.home') }}" class="d-flex align-items-center gap-2 text-decoration-none vv-brand">
      <img src="{{ url_for('static', filename='vicaris_logo.png') }}" alt="Vicaris logo" class="vv-logo">
    </a>

    <!-- Navigatie rechts -->
    <nav class="vv-nav">
      {% if suggestions_visibility %}
      <a href="{{ url_for('suggestions.suggest') }}">Suggestion</a>
      {% else %}
      <span class="text-muted">Suggestion (verborgen)</span>
      {% endif %}

      {% if poll_visibility %}
      <a href="{{ url_for('poll.poll_loading') }}">Polls</a>

      {% else %}
      <span class="text-muted">Polls (verborgen)</span>
      {% endif %}

      {% if results_visibility %}
      <a href="{{ url_for('poll.results') }}">Results</a>
      {% else %}
      <span class="text-muted">Results (verborgen)</span>
      {% endif %}
      {% if current_user and current_user.is_admin %}
    <div class="vv-nav-dropdown">
      <button class="vv-nav-admin-label" type="button">
        Admin ▾
      </button>
      <div class="vv-nav-dropdown-menu">
        <a href="{{ url_for('admin.admin_results') }}">Admin results</a>
        <a href="{{ url_for('admin.admin_artists') }}">Artists</a>
        <a href="{{ url_for('admin.admin_users') }}">Users</a>
        <!-- ➕ Nieuw menu-item voor edities -->
        <a href="{{ url_for('admin.editions') }}">Editions</a>
      </div>
    </div>
    {% endif %}





      {% if session.get('user_id') %}
      <a href="{{ url_for('auth.logout') }}">Log out</a>
      {% else %}
      <a href="{{ url_for('auth.register') }}">Log in</a>
      {% endif %}
    </nav>




  </header>

  <!-- FLASH-MELDINGEN ALS OVERLAY -->
  <div class="vv-flash-container">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for cat, msg in messages %}
    <div class="alert alert-{{ cat }} alert-dismissible fade show vv-flash-alert" role="alert">
      {{ msg }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
  </div>


  <!-- PAGINA-INHOUD -->
  <main class="vv-main">
    {% block content %}{% endblock %}
  </main>

  <!-- FOOTER -->
  <footer class="vv-footer">
    © 2025 Maspoe Events · Vicaris Village
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>